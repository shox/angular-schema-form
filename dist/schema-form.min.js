function ngSchemaEventName(e){var r="schemaFormValidate",t=e.parents("form").attr("name");return t&&""!=$.trim(t)&&(t=t+"-"+r),{all:r+"All",prefixedName:t}}var deps=[];try{angular.module("ngSanitize"),deps.push("ngSanitize")}catch(e){}try{angular.module("ui.sortable"),deps.push("ui.sortable")}catch(e){}try{angular.module("angularSpectrumColorpicker"),deps.push("angularSpectrumColorpicker")}catch(e){}angular.module("schemaForm",deps),angular.module("schemaForm").provider("sfPath",[function(){var e={parse:ObjectPath.parse};e.stringify=1===angular.version.major&&angular.version.minor<3?function(e){return Array.isArray(e)?e.join("."):e.toString()}:ObjectPath.stringify,e.normalize=function(r,t){return e.stringify(Array.isArray(r)?r:e.parse(r),t)},this.parse=e.parse,this.stringify=e.stringify,this.normalize=e.normalize,this.$get=function(){return e}}]),angular.module("schemaForm").factory("sfSelect",["sfPath",function(e){var r=/^\d+$/;return function(t,a,n){a||(a=this);var i="string"==typeof t?e.parse(t):t;if("undefined"!=typeof n&&1===i.length)return a[i[0]]=n,a;"undefined"!=typeof n&&"undefined"==typeof a[i[0]]&&(a[i[0]]=i.length>2&&r.test(i[1])?[]:{});for(var o=a[i[0]],l=1;l<i.length;l++){if(""===i[l])return void 0;if("undefined"!=typeof n){if(l===i.length-1)return o[i[l]]=n,n;var u=o[i[l]];("undefined"==typeof u||null===u)&&(u=r.test(i[l+1])?[]:{},o[i[l]]=u),o=u}else o&&(o=o[i[l]])}return o}}]),angular.module("schemaForm").provider("schemaFormDecorators",["$compileProvider","sfPathProvider",function(e,r){var t="",a={},n=function(e,r){"sfDecorator"===e&&(e=t);for(var n=a[e],i=n.rules,o=0;o<i.length;o++){var l=i[o](r);if(l)return l}return n.mappings[r.type]?n.mappings[r.type]:n.mappings["default"]},i=function(t){e.directive(t,["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage",function(e,a,i,o,l,u,s){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:"?^sfSchema",link:function(e,c,m,f){e.$on("schemaFormPropagateNgModelController",function(r,t){r.stopPropagation(),r.preventDefault(),e.ngModel=t}),e.showTitle=function(){return e.form&&e.form.notitle!==!0&&e.form.title},e.listToCheckboxValues=function(e){var r={};return angular.forEach(e,function(e){r[e]=!0}),r},e.checkboxValuesToList=function(e){var r=[];return angular.forEach(e,function(e,t){e&&r.push(t)}),r},e.buttonClick=function(r,t){angular.isFunction(t.onClick)?t.onClick(r,t):angular.isString(t.onClick)&&(f?f.evalInParentScope(t.onClick,{$event:r,form:t}):e.$eval(t.onClick,{$event:r,form:t}))},e.evalExpr=function(r,t){return f?f.evalInParentScope(r,t):e.$eval(r,t)},e.evalInScope=function(r,t){return r?e.$eval(r,t):void 0},e.interp=function(e,r){return e&&l(e)(r)},e.hasSuccess=function(){return e.ngModel?e.ngModel.$valid&&(!e.ngModel.$pristine||!e.ngModel.$isEmpty(e.ngModel.$modelValue)):!1},e.hasError=function(){return e.ngModel?e.ngModel.$invalid&&!e.ngModel.$pristine:!1},e.errorMessage=function(r){return s.interpolate(r&&r.code+""||"default",e.ngModel&&e.ngModel.$modelValue||"",e.form,e.options&&e.options.validationMessage)};var d=e.$watch(m.form,function(l){if(l){l.ngModelOptions=l.ngModelOptions||{},e.form=l;var s;if("template"===l.type&&l.template)s=u.when(l.template);else{var m="template"===l.type?l.templateUrl:n(t,l);s=i.get(m,{cache:o}).then(function(e){return e.data})}s.then(function(t){if(l.key){var n=l.key?r.stringify(l.key).replace(/"/g,"&quot;"):"";t=t.replace(/\$\$value\$\$/g,"model"+("["!==n[0]?".":"")+n)}c.html(t),l.condition&&angular.forEach(c.children(),function(e){var r=e.getAttribute("ng-if");e.setAttribute("ng-if",r?"("+r+') || (evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex }))':'evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex })')}),a(c.contents())(e)}),l.key&&e.$on("schemaForm.error."+l.key.join("."),function(r,t,a,n){if((a===!0||a===!1)&&(n=a,a=void 0),e.ngModel&&t&&(e.ngModel.$setDirty()?e.ngModel.$setDirty():(e.ngModel.$dirty=!0,e.ngModel.$pristine=!1),a&&(l.validationMessage||(l.validationMessage={}),l.validationMessage[t]=a),e.ngModel.$setValidity(t,n===!0),n===!0)){l.validate("dummy"===t);var i=ngSchemaEventName(c);e.$on(i.all,e.validateArray),i.prefixedName&&e.$on(i.prefixedName,e.validateArray)}}),d()}})}}}])},o=function(r,t,a){a=angular.isDefined(a)?a:!1,e.directive("sf"+angular.uppercase(r[0])+r.substr(1),function(){return{restrict:"EAC",scope:!0,replace:!0,transclude:a,template:'<sf-decorator form="form"></sf-decorator>',link:function(e,t,a){var n={items:"c",titleMap:"c",schema:"c"},i={type:r},o=!0;angular.forEach(a,function(r,t){if("$"!==t[0]&&0!==t.indexOf("ng")&&"sfField"!==t){var l=function(r){angular.isDefined(r)&&r!==i[t]&&(i[t]=r,o&&i.type&&(i.key||angular.isUndefined(a.key))&&(e.form=i,o=!1))};"model"===t?e.$watch(r,function(r){r&&e.model!==r&&(e.model=r)}):"c"===n[t]?e.$watchCollection(r,l):a.$observe(t,l)}})}}})};this.createDecorator=function(e,r,n){a[e]={mappings:r||{},rules:n||[]},a[t]||(t=e),i(e)},this.createDirective=o,this.createDirectives=function(e){angular.forEach(e,function(e,r){o(r,e)})},this.directive=function(e){return e=e||t,a[e]},this.addMapping=function(e,r,t){a[e]&&(a[e].mappings[r]=t)},this.$get=function(){return{directive:function(e){return a[e]},defaultDecorator:t}},i("sfDecorator")}]),angular.module("schemaForm").provider("sfErrorMessage",function(){var e={"default":"Field does not validate",0:"Invalid type, expected {{schema.type}})",1:"No enum match for: {{value}}",10:'Data does not match any schemas from "anyOf"',11:'Data does not match any schemas from "oneOf"',12:'Data is valid against more than one schema from "oneOf"',13:'Data matches schema from "not"',100:"Value {{value}} is not a multiple of {{schema.multipleOf}}",101:"Value {{value}} is less than minimum {{schema.minimum}}",102:"Value {{value}} is equal to exclusive minimum {{schema.minimum}}",103:"Value {{value}} is greater than maximum {{schema.maximum}}",104:"Value {{value}} is equal to exclusive maximum {{schema.maximum}}",105:"Value {{value}} is not a valid number",200:"String is too short ({{value.length}} chars), minimum {{schema.minimum}}",201:"String is too long ({{value.length}} chars), maximum {{schema.maximum}}",202:"String does not match pattern: {{schema.pattern}}",300:"Too few properties defined, minimum {{schema.minimum}}",301:"Too many properties defined, maximum {{schema.maximum}}",302:"Required",303:"Additional properties not allowed",304:"Dependency failed - key must exist",400:"Array is too short ({{value.length}}), minimum {{schema.minimum}}",401:"Array is too long ({{value.length}}), maximum {{schema.maximum}}",402:"Array items are not unique",403:"Additional items not allowed",500:"Format validation failed",501:'Keyword failed: "{{title}}"',600:"Circular $refs",1e3:"Unknown property (not in schema)"};this.setDefaultMessages=function(r){e=r},this.getDefaultMessages=function(){return e},this.setDefaultMessage=function(r,t){e[r]=t},this.$get=["$interpolate",function(r){var t={};return t.defaultMessages=e,t.interpolate=function(t,a,n,i){i=i||{};var o=n.validationMessage||{};0===t.indexOf("tv4-")&&(t=t.substring(4));var l=o["default"]||i["default"]||"";[o,i,e].some(function(e){return angular.isString(e)||angular.isFunction(e)?(l=e,!0):e&&e[t]?(l=e[t],!0):void 0});var u={error:t,value:a,form:n,schema:n.schema,title:n.title||n.schema&&n.schema.title};return angular.isFunction(l)?l(u):r(l)(u)},t}]}),angular.module("schemaForm").provider("schemaForm",["sfPathProvider",function(e){var r=function(e){if(Array.isArray(e)&&2==e.length){if("null"===e[0])return e[1];if("null"===e[1])return e[0]}return e},t=function(e){var r=[];return e.forEach(function(e){r.push({name:e,value:e})}),r},a=function(e,r){if(!angular.isArray(e)){var t=[];return r?angular.forEach(r,function(r){t.push({name:e[r],value:r})}):angular.forEach(e,function(e,r){t.push({name:e,value:r})}),t}return e},n=function(e,t,a){var n=p[r(t.type)];if(n)for(var i,o=0;o<n.length;o++)if(i=n[o](e,t,a))return i.schema["x-schema-form"]&&angular.isObject(i.schema["x-schema-form"])&&(i=angular.extend(i,i.schema["x-schema-form"])),i},i=function(e,r,t){t=t||{};var n=t.global&&t.global.formDefaults?angular.copy(t.global.formDefaults):{};return n.title=t.global&&t.global.supressPropertyTitles===!0?r.title:r.title||e,r.description&&(n.description=r.description),(t.required===!0||r.required===!0)&&(n.required=!0),r.maxLength&&(n.maxlength=r.maxLength),r.minLength&&(n.minlength=r.maxLength),(r.readOnly||r.readonly)&&(n.readonly=!0),r.minimum&&(n.minimum=r.minimum+(r.exclusiveMinimum?1:0)),r.maximum&&(n.maximum=r.maximum-(r.exclusiveMaximum?1:0)),r.validationMessage&&(n.validationMessage=r.validationMessage),r.enumNames&&(n.titleMap=a(r.enumNames,r["enum"])),n.schema=r,n.ngModelOptions=n.ngModelOptions||{},n},o=function(t,a,n){if("string"===r(a.type)&&!a["enum"]){var o=i(t,a,n);return o.key=n.path,o.type="text",n.lookup[e.stringify(n.path)]=o,o}},l=function(t,a,n){if("number"===r(a.type)){var o=i(t,a,n);return o.key=n.path,o.type="number",n.lookup[e.stringify(n.path)]=o,o}},u=function(t,a,n){if("integer"===r(a.type)){var o=i(t,a,n);return o.key=n.path,o.type="number",n.lookup[e.stringify(n.path)]=o,o}},s=function(t,a,n){if("boolean"===r(a.type)){var o=i(t,a,n);return o.key=n.path,o.type="checkbox",n.lookup[e.stringify(n.path)]=o,o}},c=function(a,n,o){if("string"===r(n.type)&&n["enum"]){var l=i(a,n,o);return l.key=o.path,l.type="select",l.titleMap||(l.titleMap=t(n["enum"])),o.lookup[e.stringify(o.path)]=l,l}},m=function(a,n,o){if("array"===r(n.type)&&n.items&&n.items["enum"]){var l=i(a,n,o);return l.key=o.path,l.type="checkboxes",l.titleMap||(l.titleMap=t(n.items["enum"])),o.lookup[e.stringify(o.path)]=l,l}},f=function(t,a,o){if("object"===r(a.type)){var l=i(t,a,o);return l.type="fieldset",l.items=[],o.lookup[e.stringify(o.path)]=l,angular.forEach(a.properties,function(r,t){var i=o.path.slice();if(i.push(t),o.ignore[e.stringify(i)]!==!0){var u=a.required&&-1!==a.required.indexOf(t),s=n(t,r,{path:i,required:u||!1,lookup:o.lookup,ignore:o.ignore});s&&l.items.push(s)}}),l}},d=function(t,a,o){if("array"===r(a.type)){var l=i(t,a,o);l.type="array",l.key=o.path,o.lookup[e.stringify(o.path)]=l;var u=a.required&&-1!==a.required.indexOf(o.path[o.path.length-1]),s=o.path.slice();return s.push(""),l.items=[n(t,a.items,{path:s,required:u||!1,lookup:o.lookup,ignore:o.ignore,global:o.global})],l}},p={string:[c,o],object:[f],number:[l],integer:[u],"boolean":[s],array:[m,d]},h=function(e){return e};this.defaults=p,this.stdFormObj=i,this.defaultFormDefinition=n,this.postProcess=function(e){h=e},this.appendRule=function(e,r){p[e]||(p[e]=[]),p[e].push(r)},this.prependRule=function(e,r){p[e]||(p[e]=[]),p[e].unshift(r)},this.createStandardForm=i,this.$get=function(){var t={};return t.merge=function(r,n,i,o,l){n=n||["*"],o=o||{},l=l||r.readonly||r.readOnly;var u=t.defaults(r,i,o),s=n.indexOf("*");-1!==s&&(n=n.slice(0,s).concat(u.form).concat(n.slice(s+1)));var c=u.lookup;return h(n.map(function(n){if("string"==typeof n&&(n={key:n}),n.key&&"string"==typeof n.key&&(n.key=e.parse(n.key)),n.titleMap&&(n.titleMap=a(n.titleMap)),n.itemForm){n.items=[];var u=e.stringify(n.key),s=c[u];angular.forEach(s.items,function(e){var r=angular.copy(n.itemForm);r.key=e.key,n.items.push(r)})}if(n.key){var m=e.stringify(n.key);if(c[m]){var f=c[m];angular.forEach(f,function(e,r){void 0===n[r]&&(n[r]=f[r])})}}return l===!0&&(n.readonly=!0),n.items&&(n.items=t.merge(r,n.items,i,o,n.readonly)),n.tabs&&angular.forEach(n.tabs,function(e){e.items=t.merge(r,e.items,i,o,n.readonly)}),"checkbox"===n.type&&angular.isUndefined(n.schema["default"])&&(n.schema["default"]=!1),n}))},t.defaults=function(e,t,a){var i=[],o={};if(t=t||{},a=a||{},"object"!==r(e.type))throw new Error('Not implemented. Only type "object" allowed at root level of schema.');return angular.forEach(e.properties,function(r,l){if(t[l]!==!0){var u=e.required&&-1!==e.required.indexOf(l),s=n(l,r,{path:[l],lookup:o,ignore:t,required:u,global:a});s&&i.push(s)}}),{form:i,lookup:o}},t.traverseSchema=function(e,r,t,a){a=angular.isDefined(a)?a:!0,t=t||[];var n=function(e,r,t){if(r(e,t),angular.forEach(e.properties,function(e,a){var i=t.slice();i.push(a),n(e,r,i)}),!a&&e.items){var i=t.slice();i.push(""),n(e.items,r,i)}};n(e,r,t||[])},t.traverseForm=function(e,r){r(e),angular.forEach(e.items,function(e){t.traverseForm(e,r)}),e.tabs&&angular.forEach(e.tabs,function(e){angular.forEach(e.items,function(e){t.traverseForm(e,r)})})},t}}]),angular.module("schemaForm").factory("sfValidator",[function(){var e={};return e.validate=function(e,r){if(!e)return{valid:!0};var t=e.schema;if(!t)return{valid:!0};""===r&&(r=void 0),"number"===e.type&&null===r&&(r=void 0);var a={type:"object",properties:{}},n=e.key[e.key.length-1];a.properties[n]=t,e.required&&(void 0===e.requiredCondition||e.requiredCondition())&&(a.required=[n]);var i={};return angular.isDefined(r)&&(i[n]=r),tv4.validateResult(i,a)},e}]),angular.module("schemaForm").directive("sfArray",["sfSelect","schemaForm","sfValidator","sfPath",function(e,r,t,a){var n=function(e){return function(r){r.key&&(r.key[r.key.indexOf("")]=e)}};return{restrict:"A",scope:!0,require:"?ngModel",link:function(i,o,l,u){var s={};u&&i.$emit("schemaFormPropagateNgModelController",u);var c=i.$watch(l.sfArray,function(l){var m=e(l.key,i.model);if(i.$watch("model"+a.normalize(l.key),function(){m=e(l.key,i.model),i.modelArray=m}),angular.isUndefined(m)&&(m=[],e(l.key,i.model,m)),i.modelArray=m,l.items){var f=l.items[0];l.items.length>1&&(f={type:"section",items:l.items.map(function(e){return e.ngModelOptions=l.ngModelOptions,angular.isUndefined(e.readonly)&&(e.readonly=l.readonly),e})})}if(i.copyWithIndex=function(e){if(!s[e]&&f){var t=angular.copy(f);t.arrayIndex=e,r.traverseForm(t,n(e)),s[e]=t}return s[e]},i.appendToArray=function(){var t=m.length,a=i.copyWithIndex(t);if(r.traverseForm(a,function(r){if(r.key){var t;angular.isDefined(r["default"])&&(t=r["default"]),angular.isDefined(r.schema)&&angular.isDefined(r.schema["default"])&&(t=r.schema["default"]),angular.isDefined(t)&&e(r.key,i.model,t)}}),t===m.length){var n,o=e("schema.items.type",l);"object"===o?n={}:"array"===o&&(n=[]),m.push(n)}return i.validateArray&&i.validateArray(),m},i.deleteFromArray=function(e){return m.splice(e,1),i.validateArray&&i.validateArray(),u&&u.$setDirty&&u.$setDirty(),m},l.titleMap||l.startEmpty===!0||0!==m.length||i.appendToArray(),l.titleMap&&l.titleMap.length>0){i.titleMapValues=[];var d=function(e){i.titleMapValues=[],e=e||[],l.titleMap.forEach(function(r){i.titleMapValues.push(-1!==e.indexOf(r.value))})};d(i.modelArray),i.$watchCollection("modelArray",d),i.$watchCollection("titleMapValues",function(e){if(e){for(var r=i.modelArray;r.length>0;)r.pop();l.titleMap.forEach(function(t,a){e[a]&&r.push(t.value)})}})}if(u){var p;i.validateArray=function(){var e=t.validate(l,i.modelArray.length>0?i.modelArray:void 0);Object.keys(u.$error).forEach(function(e){u.$setValidity(e,!0)}),e.valid!==!1||!e.error||""!==e.error.dataPath&&e.error.dataPath!=="/"+l.key[l.key.length-1]||(u.$setViewValue(i.modelArray),p=e.error,u.$setValidity("tv4-"+e.error.code,!1))};var h=ngSchemaEventName(o);i.$on(h.all,i.validateArray),h.prefixedName&&i.$on(h.prefixedName,i.validateArray),i.hasSuccess=function(){return u.$valid&&!u.$pristine},i.hasError=function(){return u.$invalid},i.schemaError=function(){return p}}c()})}}}]),angular.module("schemaForm").directive("sfChanged",function(){return{require:"ngModel",restrict:"AC",scope:!1,link:function(e,r,t,a){var n=e.$eval(t.sfChanged);n&&n.onChange&&a.$viewChangeListeners.push(function(){angular.isFunction(n.onChange)?n.onChange(a.$modelValue,n):e.evalExpr(n.onChange,{modelValue:a.$modelValue,form:n})})}}}),angular.module("schemaForm").directive("sfMessage",["$injector","sfErrorMessage",function(e,r){return{scope:!1,restrict:"EA",link:function(t,a,n){var i=e.has("$sanitize")?e.get("$sanitize"):function(e){return e},o="";n.sfMessage&&(o=t.$eval(n.sfMessage)||"",o=i(o));var l=function(e){if(e&&t.hasError())a.html(o);else{var n=Object.keys(t.ngModel&&t.ngModel.$error||{}),i=n[0];n.length>1&&(i=n.reduce(function(e,r){return e&&0===e.indexOf("tv4-")?e:r}),console.log("reduced",n,i)),a.html(i?r.interpolate(i,t.ngModel.$modelValue,t.form,t.options&&t.options.validationMessage):o)}};l(),t.$watchCollection("ngModel.$error",function(){t.ngModel&&l(t.ngModel.$valid)})}}}]),angular.module("schemaForm").directive("sfSchema",["$compile","schemaForm","schemaFormDecorators","sfSelect","sfPath",function(e,r,t,a,n){var i=/[A-Z]/g,o=function(e,r){return r=r||"_",e.replace(i,function(e,t){return(t?r:"")+e.toLowerCase()})};return{scope:{schema:"=sfSchema",initialForm:"=sfForm",model:"=sfModel",options:"=sfOptions"},controller:["$scope",function(e){this.evalInParentScope=function(r,t){return e.$parent.$eval(r,t)}}],replace:!1,restrict:"A",transclude:!0,require:"?form",link:function(i,l,u,s,c){i.formCtrl=s;var m={};c(i,function(e){if(e.addClass("schema-form-ignore"),l.prepend(e),l[0].querySelectorAll){var r=l[0].querySelectorAll("[ng-model]");if(r)for(var t=0;t<r.length;t++){var a=r[t].getAttribute("ng-model");m[a.substring(a.indexOf(".")+1)]=!0}}});var f,d={},p=function(s,c){var d=r.merge(s,c,m,i.options),p=document.createDocumentFragment();f&&f.$destroy(),f=i.$new(),f.schemaForm={form:d,schema:s},l.children(":not(.schema-form-ignore)").remove();for(var h={},g=l[0].querySelectorAll("*[sf-insert-field]"),v=0;v<g.length;v++)h[g[v].getAttribute("sf-insert-field")]=g[v];angular.forEach(d,function(e,r){var a=document.createElement(u.sfUseDecorator||o(t.defaultDecorator,"-"));if(a.setAttribute("form","schemaForm.form["+r+"]"),e.key){var i=h[n.stringify(e.key)];if(i){for(;i.firstChild;)i.removeChild(i.firstChild);return void i.appendChild(a)}}p.appendChild(a)}),l[0].appendChild(p),e(l.children())(f),r.traverseSchema(s,function(e,r){if(angular.isDefined(e["default"])){var t=a(r,i.model);angular.isUndefined(t)&&a(r,i.model,e["default"])}}),i.$emit("sf-render-finished",l)};i.$watch(function(){var e=i.schema,r=i.initialForm||["*"];r&&e&&e.type&&(d.form!==r||d.schema!==e)&&Object.keys(e.properties).length>0&&(d.schema=e,d.form=r,p(e,r))}),i.$on("schemaFormRedraw",function(){var e=i.schema,r=i.initialForm||["*"];e&&p(e,r)})}}}]),angular.module("schemaForm").directive("schemaValidate",["sfValidator","sfSelect","$rootScope",function(e,r,t){return{restrict:"A",scope:!1,priority:500,require:"ngModel",link:function(a,n,i,o){a.$emit("schemaFormPropagateNgModelController",o);var l=null,u=function(){return s||(s=a.$eval(i.schemaValidate)),s},s=u();s.copyValueTo&&o.$viewChangeListeners.push(function(){var e=s.copyValueTo;angular.forEach(e,function(e){r(e,a.model,o.$modelValue)})});var c=function(r,a){if(s=u(),!s)return r;var n=e.validate(s,r);if(Object.keys(o.$error).forEach(function(e){o.$setValidity(e,!0)}),!a&&s.validationDependecies)for(var i in s.validationDependecies){var c=s.key.slice();c[s.key.length-1]=s.validationDependecies[i],t.$broadcast("schemaForm.error."+c.join("."),"dummy",!0)}if(!n.valid)return o.$setValidity("tv4-"+n.error.code,!1),void(l=n.error);if(s.customValidator){var m=s.customValidator(r);m&&(m.message&&(s.validationMessage||(s.validationMessage={}),s.validationMessage[m.code]=m.message),o.$setDirty(),o.$setValidity(m.code,!1))}return r};s.validate=function(e){c(o.$modelValue,e),$timeout(function(){a.$apply()})},"function"==typeof s.ngModel&&s.ngModel(o),["$parsers","$viewChangeListeners","$formatters"].forEach(function(e){s[e]&&o[e]&&s[e].forEach(function(r){o[e].push(r)})}),["$validators","$asyncValidators"].forEach(function(e){s[e]&&o[e]&&angular.forEach(s[e],function(r,t){o[e][t]=r})}),o.$parsers.push(c);var m=function(){o.$setDirty?(o.$setDirty(),c(o.$modelValue)):o.$setViewValue(o.$viewValue)},f=ngSchemaEventName(n);a.$on(f.all,m),f.prefixedName&&a.$on(f.prefixedName,m),a.schemaError=function(){return l}}}}]);